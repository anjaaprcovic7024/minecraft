mine fib(gold n#0:) {
    gold a#0:
    gold b#1:
    gold i#0:
    gold tmp#0:

    dig (n = 0) {
        loot a:
    }

    dig (n = 1) {
        loot b:
    }

    craft (i#2: i <= n: i#i + 1) {
        tmp#a + b:
        a#b:
        b#tmp:
    }

    loot b:
}

gold f#fib(7):

collect(f):
